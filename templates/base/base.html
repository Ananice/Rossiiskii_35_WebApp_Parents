{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- ===================== META –¢–ï–ì–ò ===================== -->
    <!-- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞: —á—Ç–æ–±—ã –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ -->
    <meta charset="UTF-8">
    
    <!-- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—á—Ç–æ –≤–∏–¥–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ) -->
    <title>{% block title %}–ü–æ—Ä—Ç–∞–ª –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ú–£–ò–í{% endblock %}</title>

    <!-- ===================== –í–ù–ï–®–ù–ò–ï –ë–ò–ë–õ–ò–û–¢–ï–ö–ò ===================== -->
    <!-- Bootstrap 5 - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö –∫–Ω–æ–ø–æ–∫, —Ñ–æ—Ä–º, —Ç–∞–±–ª–∏—Ü -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome - –∏–∫–æ–Ω–∫–∏ (–∑–≤—ë–∑–¥–æ—á–∫–∏, —Å–µ—Ä–¥—Ü–∞, —Å—Ç—Ä–µ–ª–∫–∏ –∏ —Ç.–¥.) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ===================== –ù–ê–®–ò –°–¢–ò–õ–ò ===================== -->
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à CSS —Ñ–∞–π–ª –∏–∑ –ø–∞–ø–∫–∏ static/css/ -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <!-- –ú–µ—Å—Ç–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    {% block extra_css %}{% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">
    <!-- ===================== –ù–ê–í–ò–ì–ê–¶–ò–û–ù–ù–û–ï –ú–ï–ù–Æ (NAVBAR) ===================== -->
    <!-- –ú–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            
            <!-- –õ–û–ì–û–¢–ò–ü –ò –ù–ê–ó–í–ê–ù–ò–ï –°–ê–ô–¢–ê -->
            <a class="navbar-brand" href="/">
                <i class="fas fa-graduation-cap"></i> <!-- –ò–∫–æ–Ω–∫–∞ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–π —à–∞–ø–∫–∏ -->
                –ú–£–ò–í –ü–æ—Ä—Ç–∞–ª
            </a>
            
            <!-- –ö–ù–û–ü–ö–ê "–ú–ï–ù–Æ" –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• (—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- –û–°–ù–û–í–ù–û–ï –ú–ï–ù–Æ (—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö) -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto"> <!-- ms-auto = –≤—ã—Ä–æ–≤–Ω—è—Ç—å –≤–ø—Ä–∞–≤–æ -->
                    
                    <!-- –ï–°–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ê–í–¢–û–†–ò–ó–û–í–ê–ù (–≤–æ—à—ë–ª –≤ —Å–∏—Å—Ç–µ–º—É) -->
                    {% if user.is_authenticated %}
                        
                        <!-- –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï -->
                        <li class="nav-item">
                            <span class="navbar-text me-3">
                                üë§ {{ user.get_full_name|default:user.username }} 
                                <!-- |default:user.username = –µ—Å–ª–∏ –§–ò –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –ø–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏–Ω -->
                                
                                <!-- –†–û–õ–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (–≤–∏–¥–Ω–∞ –º–µ–ª–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º) -->
                                <small class="text-muted">({{ user.role }})</small>
                            </span>
                        </li>
                        
                        <!-- –°–°–´–õ–ö–ê –ù–ê –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
                        <li class="nav-item">
                            <a class="nav-link" href="/dashboard/">
                                <i class="fas fa-tachometer-alt"></i> –ü–∞–Ω–µ–ª—å
                            </a>
                        </li>
                        
                        <!-- –°–°–´–õ–ö–ê –ù–ê –°–û–û–ë–©–ï–ù–ò–Ø -->
                        <li class="nav-item">
                            <a class="nav-link" href="/messages/">
                                <i class="fas fa-envelope"></i> –°–æ–æ–±—â–µ–Ω–∏—è
                            </a>
                        </li>
                        
                        <!-- –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ (–¢–û–õ–¨–ö–û –î–õ–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–í) -->
                        {% if user.role == 'administrator' %}
                            <li class="nav-item">
                                <a class="nav-link" href="/admin/">
                                    <i class="fas fa-cog"></i> –ê–¥–º–∏–Ω
                                </a>
                            </li>
                        {% endif %}
                        
                        <!-- –ö–ù–û–ü–ö–ê –í–´–•–û–î–ê -->
                        <li class="nav-item">
                            <a class="nav-link text-danger" href="/logout/">
                                <i class="fas fa-sign-out-alt"></i> –í—ã—Ö–æ–¥
                            </a>
                        </li>
                        
                    <!-- –ï–°–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ù–ï –ê–í–¢–û–†–ò–ó–û–í–ê–ù (–Ω–µ –≤–æ—à—ë–ª) -->
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="/login/">
                                <i class="fas fa-sign-in-alt"></i> –í—Ö–æ–¥
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- ===================== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ (MAIN) ===================== -->
    <!-- –≠—Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (login, dashboard –∏ —Ç.–¥.) -->
    <main class="flex-grow-1"> <!-- flex-grow-1 = –∑–∞–π–º–∏ –≤–µ—Å—å —Å–≤–æ–±–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä -->
        <div class="container-fluid py-4"> <!-- py-4 = –æ—Ç—Å—Ç—É–ø—ã —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É -->
            
            <!-- –°–ò–°–¢–ï–ú–ê –°–û–û–ë–©–ï–ù–ò–ô (–æ—à–∏–±–∫–∏, —É—Å–ø–µ—Ö–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è) -->
            <!-- –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç Django -->
            {% if messages %}
                {% for message in messages %}
                    <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ü–≤–µ—Ç–æ–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ -->
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message }} <!-- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è -->
                        <!-- –ö–Ω–æ–ø–∫–∞ "–∑–∞–∫—Ä—ã—Ç—å" -->
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}
            {% endif %}

            <!-- –°–û–î–ï–†–ñ–ò–ú–û–ï –ö–û–ù–ö–†–ï–¢–ù–û–ô –°–¢–†–ê–ù–ò–¶–´ -->
            <!-- –ö–∞–∂–¥–∞—è –¥—Ä—É–≥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—É–¥–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ —á–µ—Ä–µ–∑ {% block content %} -->
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- ===================== –ü–û–î–í–ê–õ (FOOTER) ===================== -->
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <p class="mb-0">
                <small>
                    –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π | 
                    –ú–£–ò–í –∏–º. –°.–Æ. –í–∏—Ç—Ç–µ | 2025
                </small>
            </p>
        </div>
    </footer>

    <!-- ===================== –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï JAVASCRIPT –ë–ò–ë–õ–ò–û–¢–ï–ö ===================== -->
    <!-- Bootstrap JS - –Ω—É–∂–µ–Ω –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–º–µ–Ω—é, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ —Ç.–¥.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- –ù–ê–® –°–û–ë–°–¢–í–ï–ù–ù–´–ô JS –§–ê–ô–õ (—Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–±—ã—Ç–∏—è –∏ —Ç.–¥.) -->
    <script src="{% static 'js/script.js' %}"></script>
    
    <!-- –ú–µ—Å—Ç–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    {% block extra_js %}{% endblock %}
</body>
</html>
